Lawnchair.adapter("window-name",function(e,t){typeof window=="undefined"&&(window={top:{}});var n=window.top.name?JSON.parse(window.top.name):{};return{valid:function(){return typeof window.top.name!="undefined"},init:function(r,i){n[this.name]=n[this.name]||{index:[],store:{}};e=n[this.name].index;t=n[this.name].store;this.fn(this.name,i).call(this,this)},keys:function(t){this.fn("keys",t).call(this,e);return this},save:function(r,i){var s=r.key||this.uuid();this.exists(s,function(o){if(!o){r.key&&delete r.key;e.push(s)}t[s]=r;window.top.name=JSON.stringify(n);if(i){r.key=s;this.lambda(i).call(this,r)}});return this},batch:function(e,t){var n=[];for(var r=0,i=e.length;r<i;r++)this.save(e[r],function(e){n.push(e)});t&&this.lambda(t).call(this,n);return this},get:function(e,n){var r;if(this.isArray(e)){r=[];for(var i=0,s=e.length;i<s;i++)r.push(t[e[i]])}else{r=t[e];r&&(r.key=e)}n&&this.lambda(n).call(this,r);return this},exists:function(e,n){this.lambda(n).call(this,!!t[e]);return this},all:function(n){var r=[];for(var i=0,s=e.length;i<s;i++){var o=t[e[i]];o.key=e[i];r.push(o)}this.fn(this.name,n).call(this,r);return this},remove:function(r,i){var s=this.isArray(r)?r:[r];for(var o=0,u=s.length;o<u;o++){delete t[s[o]];e.splice(this.indexOf(e,s[o]),1)}window.top.name=JSON.stringify(n);i&&this.lambda(i).call(this);return this},nuke:function(r){t={};e=[];window.top.name=JSON.stringify(n);r&&this.lambda(r).call(this);return this}}}());